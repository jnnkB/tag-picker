/*!
 * ==============================================================
 *  TAG PICKER 3.0.8
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(t,n,e){function i(t,n){var e=n[O](t);return 0>e?null:e}function r(t,n){return t[w].remove(n)}function u(t,n){return t[w].add(n)}function c(t,n){return n[O](t)>=0}function a(t){return"number"==typeof t}function o(t){return void 0!==t||null===t}function s(t){return"string"==typeof t}function f(t){l(t)&&t[K][I](t)}function l(t){return t&&t[K]}function g(t,e,i){var r,u,c=s(t)?n[j](t):t;if((e||""===e)&&(c[A]=e),i)for(r in i)u=i[r],null===u||!1===u?c[P](r):c[W](r,u);return c}var v="Arrow",p=v+"Left",d=v+"Right",h="Backspace",m="Delete",b="Enter",k="Tab",x="appendChild",y="children",w="classList",j="createElement",C="ctrlKey",E="disabled",L="firstChild",_="forEach",T="getAttribute",O="indexOf",A="innerHTML",M="insertBefore",R="instances",N="key",B=N+"Code",D="nextSibling",S="nodeName",K="parentNode",H="previousSibling",z="readOnly",P="removeAttribute",I="removeChild",X="replace",W="setAttribute",Y="shiftKey",$="textContent",F="toLowerCase",q=setTimeout;!function(t){t.version="3.0.8",t[R]={},t._=t.prototype}(t[e]=function(n,l){function v(t,n){if(!o(t))return Cn={},xn;if(o(Cn[t]))if(o(n))for(var e=0,i=Cn[t].length;i>e;++e)n===Cn[t][e]&&Cn[t].splice(e,1);else delete Cn[t];return xn}function w(t,n){return o(Cn[t])||(Cn[t]=[]),o(n)&&Cn[t].push(n),xn}function j(t,n){if(!o(Cn[t]))return xn;for(var e=0,i=Cn[t].length;i>e;++e)Cn[t][e].apply(xn,n);return xn}function O(t){return xn.f(t)[X](RegExp("("+En.escape.join("|")[X](/\\/g,"\\\\")+")+"),"").trim()}function P(){if(n[E]||n[z])return an("");var t,e=O(An[$]),r=xn.tags;e&&(ln(e)?j("has.tag",[e,i(e,r)]):(pn(e),vn(e),t=r.length,j("change",[e,t]),j("set.tag",[e,t])),an(""))}function I(){P(),r(_n,"focus"),r(_n,"focus.input"),j("blur",[kn,xn.tags.length])}function W(){j("click",[xn.tags])}function G(){u(_n,"focus"),u(_n,"focus.input"),j("focus",[xn.tags])}function J(t){var e,i=En.escape,u=t[B],a=t[N],o=t[C],s=b===a||13===u,f=t[Y],l=k===a||9===u,g=On[H],v=xn.tags.length,d=En.max,m=O(An[$]);s?a="\n":l&&(a="	"),l||(n[E]||n[z]?(s&&n[z]&&hn(),fn(t)):c(a,i)||c(u,i)?(d>v?P():(an(""),j("max.tags",[d])),fn(t)):s?(hn(),fn(t)):q(function(){var n=An[$],s=O(n);c(n.slice(-1),i)?(d>v?P():(an(""),j("max.tags",[d])),fn(t)):""!==s||o||f||(""!==m||h!==a&&8!==u?(p===a||37===u)&&g&&g.focus():(e=xn.tags[v-1],r(_n,"focus.tag"),dn(e),gn(e),g&&(j("change",[e,v-1]),j("let.tag",[e,v-1])))),Mn[A]=s?"":wn},0))}function Q(t){if(_n[K])for(var e;e=On[H];)dn(e.title);for(xn.tags=[],n.value="",t=t?t.split(En.join):[],bn=En.max,kn,mn=0;bn>mn&&t[mn];++mn)if(""!==(kn=O(t[mn]))){if(ln(kn))continue;pn(kn),vn(kn),j("change",[kn,mn]),j("set.tag",[kn,mn])}}function U(t){if(!n[E]){var e=En.min;return P(),e>0&&xn.tags.length<e?(an("",1),j("min.tags",[e]),void fn(t)):1}}function V(){q(function(){n[E]||n[z]||Q(An[$]),an("")},0)}function Z(t){t&&_n===t.target&&(An.focus(),W())}function tn(){An.focus()}function nn(){var t=this,n=t.title,e=xn.tags;r(_n,"focus"),r(_n,"focus.tag"),j("blur.tag",[n,i(n,e)])}function en(){var t=this.title,n=xn.tags;j("click.tag",[t,i(t,n)])}function rn(){var t=this,n=t.title,e=xn.tags;u(_n,"focus"),u(_n,"focus.tag"),j("focus.tag",[n,i(n,e)])}function un(t){if(!n[E]&&!n[z]){var e=this[K].title;dn(e),gn(e),an("",1)}fn(t)}function cn(t){var e=this,u=t[B],c=t[N],a=(t[C],n[z]),o=(t[Y],e[H]),s=e[D];if(a||p!==c&&37!==u)if(a||d!==c&&39!==u){if(h===c||m===c||8===u||46===u){if(!a){var f=e.title,l=i(f,xn.tags);r(_n,"focus.tag"),dn(f),gn(f),h===c||8===u?o?o.focus():an("",1):s&&s!==On?s.focus():an("",1),j("change",[f,l]),j("let.tag",[f,l])}fn(t)}}else s&&s!==On?s.focus():an("",1),fn(t);else o&&(o.focus(),fn(t))}function an(t,n){An[$]=t,Mn[$]=t?"":wn,n&&An.focus()}function on(t,n,e){t.removeEventListener(n,e)}function sn(t,n,e){t.addEventListener(n,e,!1)}function fn(t){t&&t.preventDefault()}function ln(t,n){var e=i(t,xn.tags);return n&&j("get.tag",[t,e]),a(e)?t:null}function gn(t){var e=i(t,xn.tags);return a(e)&&e>=0?(xn.tags.splice(e,1),n.value=xn.tags.join(En.join),!0):!1}function vn(t,e){a(e)?(e=0>e?0:e,xn.tags.splice(e,0,t)):xn.tags.push(t),n.value=xn.tags.join(En.join)}function pn(t,e){var i=g("span",0,{"class":"tag",tabindex:n[E]?!1:"0",title:t});if(En.x){var r=g("a",0,{href:"",tabindex:"-1"});sn(r,"click",un),i[x](r)}sn(i,"blur",nn),sn(i,"click",en),sn(i,"focus",rn),sn(i,"keydown",cn),Tn[K]&&(a(e)&&xn.tags[e]?Tn[M](i,Tn[y][e]):Tn[M](i,On))}function dn(t){var n,e=i(t,xn.tags);if(a(e)&&e>=0&&(n=Tn.children[e])){if(on(n,"blur",nn),on(n,"click",en),on(n,"focus",rn),on(n,"keydown",cn),En.x){var r=n[L];on(r,"click",un),f(r)}f(n)}}function hn(){U()&&Ln&&Ln.submit()}if(n){var mn,bn,kn,xn=this,yn=t[e],wn=n.placeholder||"",jn=n[T]("tabindex"),Cn={},En=Object.assign({"class":"tag-picker",escape:[",",188],join:", ",max:9999,min:0,x:!1},s(l)?{join:l}:l||{});if(n[e])return xn;if(!(xn instanceof yn))return new yn(n,En);yn[R][n.id||n.name||Object.keys(yn[R]).length]=xn,n[e]=1;var Ln,_n=g("span",0,{"class":En["class"]}),Tn=g("span",0,{"class":"tags"}),On=g("span",0,{"class":"editor tag"}),An=g("span",0,{contenteditable:n[E]?!1:"true",spellcheck:"false",style:"white-space:pre;"}),Mn=g("span");for(xn.f=function(t){return t[F]()[X](/[^ a-z0-9-]/g,"")},an(""),u(n,En["class"]+"-source"),n[K][M](_n,n[D]),_n[x](Tn),Tn[x](On),On[x](An),On[x](Mn),g(n,0,{tabindex:"-1"}),Ln=n[K];Ln&&Ln[S]&&"form"!==Ln[S][F]();)Ln=Ln[K];sn(An,"blur",I),sn(An,"click",W),sn(An,"focus",G),sn(An,"keydown",J),sn(An,"paste",V),sn(n,"focus",tn),sn(_n,"click",Z),Ln&&sn(Ln,"submit",U),xn.tags=[],Q(n.value),xn.hooks=Cn,xn.input=An,xn.self=xn.view=_n,xn.source=xn.output=n,xn.state=En,xn.blur=function(){return!n[E]&&(An.blur(),I()),xn},xn.click=function(){return _n.click(),Z(),xn},xn.fire=j,xn.focus=function(){return n[E]||(An.focus(),G()),xn},xn.get=function(t){return n[E]?null:ln(t,1)},xn.let=function(t){if(!n[E]&&!n[z]){var e=En.min;if(P(),e>0&&xn.tags.length<e)return j("min.tags",[e]),xn;dn(t),gn(t)}return xn},xn.on=w,xn.off=v,xn.pop=function(){return n[e]?(delete n[e],on(An,"blur",I),on(An,"click",W),on(An,"focus",G),on(An,"keydown",J),on(An,"paste",V),on(n,"focus",tn),on(_n,"click",Z),Ln&&on(Ln,"submit",U),xn.tags[_](dn),r(n,En["class"]+"-source"),g(n,0,{tabindex:jn}),f(_n),j("pop",[xn.tags])):xn},xn.set=function(t,e){if(!n[E]&&!n[z]){var r=En.max,u=xn.tags;ln(t)?j("has.tag",[t,i(t,u)]):u.length<r?(pn(t,e),vn(t,e)):j("max.tags",[r])}return xn},xn.value=function(t){return!n[E]&&!n[z]&&Q(t),xn}}})}(this,this.document,"TP");
